# MiniJava Type Checker

This project contains source code for a Type checker for the MiniJava language, using an autogenerated Parser from JTB.
* ```src/main/java/*```- Contains all the source files for the Type checker.
* ```out/production/classes/Typecheck.class``` - This is the entry point of the program. This directory contains all the compiled sources.
* ```testcases``` - Where the test files exist

### Source Code Breakdown

* ```Typecheck``` - This is the main class, which builds the global Context Table by first parsing the test file from ```stdin```, creating an Abstract Syntax Tree and then performing DFS to store all contexts. It then performs a second DFS run through the AST to typecheck the program given the global context. Takes advatange of the [Visitor Design Pattern](https://sourcemaking.com/design_patterns/visitor)
* ```context/*``` - Contains all the key building blocks for the Typechecker
    * ```MJType``` - The wrapper for all supported base types in MiniJava.
    * ```MJMethod``` - The wrapper for all supported method declarations in MiniJava. Helps in keeping a method scope.
    * ```MJClass``` - The wrapper for all supported class declarations in MiniJava. Helps in keeping a class scope.
    * ```ContextTable``` - A map of class names to all classes, thereby storing a global context of the symbols in the program.
    * ```MJTypeCheckException``` - Runtime Exception wrapper for type errors.
    * ```Tuple2``` - A convenience object to represent a pair.
    * ```ContextVisitor``` - A void depth first visitor that builds out the context table.
    * ```TypecheckVisitor``` - A depth first visitor that type checks by passing the context and returning evaluated types when applicable.


### How to build

From the root of the project, run gradle.

```bash
$ gradle build
```

### How to test

The tests for this are very minimal. The testing framework was provided by the class. Unfortunately, right now there are no unit tests written, due to time constraints.
This testing framework also creates a buildable distribution based on student ID for submission. You can add your own tests by creating files in the ```testcases``` directory.
```bash
$ gradle :pregrade
```

